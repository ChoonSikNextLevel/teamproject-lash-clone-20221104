<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>product_correction</title>
    <link rel="stylesheet"correction href="/static/css/manager/product_change_storage.css">
    <link rel="stylesheet" href="/static/css/manager/style.css">
</head>
<body>
    <div class="contents">
        <div class="titleArea">
            <h2>product_correction</h2>
        </div>
        <ul class="sideMenu">
            <h2 style="margin-top:0px;">Account</h2>
            <li><a href="">상품등록</a></li>
            <li><a href="">상품목록리스트</a></li>
            <li><a href="">상품수정</a></li>
            <li><a href="">주문페이지</a></li>
            <li><a href="">게시물관리</a></li>
            <li><a href="">배송현황관리</a></li>
        </ul>
        <div class="registration-area">
            <div class="registration-container">
                <div class="registration-required">
                    <p> 상품수정</p>
                </div>
    
                <form class="registration-form" action="" method="post">
                    <div class="registration-table">
                        <table>
                            <tbody>
                                <tr>
                                    <th scope="row">
                                        name 
                                    </th>
                                    <td>
                                        <input type="text" class="input-name">
                                    </td>    
                                </tr>
                                <tr>
                                    <th>
                                        color-code 
                                    </th>
                                    <td>
                                        <input type="text" class="input-colorcode">
                                        
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        price 
                                    </th>
                                    <td>
                                        <input type="text" class="input-price">
                        
                                    </td>
                                </tr>
                            </tbody>
                        </table>  
                    </div>
                    <div class="product-features-table">
                        <table>
                            <tbody>
                                <tr>
                                    <th scope="row">
                                        product_features 
                                    </th>
                                    <td>
                                        <textarea class="product-features-ex" placeholder="상세설명"></textarea>
                                    </td>    
                                </tr>
                                <tr>
                                    <th scope="row">
                                        description
                                    </th>
                                    <td>
                                        <textarea class="product-features-ex" placeholder="상세설명"></textarea>
                                    </td>    
                                </tr>
                                <tr>
                                    <th scope="row">
                                        return-policy
                                    </th>
                                    <td>
                                        <textarea class="product-features-ex" placeholder="상세설명"></textarea>
                                    </td>    
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="imgs-button">
                        <label for="chooseFile">
                            (  ˵•́ ᴗ •̀˵)사진수정(˵•́ᴗ •̀˵  )
                        </label>
                    </div>
                    <input type="file" id="chooseFile" class="real-upload" accept="image/*" required multiple/>
                    <div class="upload"></div>
                    <ul class="image-preview"></ul>
                    <script>
                        function getImageFiles(e) {
                            const uploadFiles = [];
                            const files = e.currentTarget.files;
                            const imagePreview = document.querySelector('.image-preview');
                            const docFrag = new DocumentFragment();
                    
                            if ([...files].length >= 7) {
                            alert('이미지는 최대 6개 까지 업로드가 가능합니다.');
                            return;
                            }
                    
                            // 파일 타입 검사
                            [...files].forEach(file => {
                                if (!file.type.match("image/.*")) {
                                    alert('이미지 파일만 업로드가 가능합니다.');
                                    return
                                }
                    
                                // 파일 갯수 검사
                                if ([...files].length < 7) {
                                    uploadFiles.push(file);
                                    const reader = new FileReader();
                                    reader.onload = (e) => {
                                        const preview = createElement(e, file);
                                        imagePreview.appendChild(preview);
                                    };
                                    reader.readAsDataURL(file);
                                }
                            });
                        }
                    
                        function createElement(e, file) {
                            const li = document.createElement('li');
                            const img = document.createElement('img');
                            img.setAttribute('src', e.target.result);
                            img.setAttribute('data-file', file.name);
                            li.appendChild(img);
                    
                            return li;
                        }
                    
                        const realUpload = document.querySelector('.real-upload');
                        const upload = document.querySelector('.upload');
                    
                        upload.addEventListener('click', () => realUpload.click());
                    
                        realUpload.addEventListener('change', getImageFiles);
                    </script>
                    <a href="#none" class="registration-button">등록</a>
                    <a href="#none" class="registration-button">삭제</a>
                </form>
            </div>
        </div>
    </div>
</body>
</html>