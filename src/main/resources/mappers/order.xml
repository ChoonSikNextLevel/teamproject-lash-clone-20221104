<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lash.lashClone.repository.shop.OrderRepository">

    <resultMap id="order" type="com.lash.lashClone.domain.Order">
        <result property="order_id" column="order_id"></result>
        <result property="product_id" column="product_id"></result>
        <result property="qty" column="qty"></result>
        <result property="member_id" column="member_id"></result>
        <result property="address_id" column="address_id"></result>
        <result property="status" column="status"></result>
        <result property="order_date" column="order_date"></result>
        <result property="status_date" column="status_date"></result>
    </resultMap>


    <select id="getOrderUser" resultMap="order" parameterType="string">
        SELECT
            mm.member_id,
            mm.email,
            mm.name,
            am.mobile_phone,
            am.address,
            am.address_detail,
            am.address_number
        FROM
            member_mst mm
        LEFT OUTER JOIN address_mst am ON (am.member_id = mm.member_id)
        WHERE
        mm.username = #{username};
    </select>


</mapper>